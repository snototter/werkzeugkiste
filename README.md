# Werkzeugkiste - Yet Another C++ Utility Library
This library is a collection of frequently used C++ snippets copy-pasted across way too many of my projects.
Since there's tons of so-called utilities, utils, tools & toolboxes out there, I prefer to call this one **`werkzeugkiste`** (the German word for toolbox).


## Functionality

This toolbox will only receive sporadic updates, basically whenever I have to reuse (and modernize) some of my older code.
Currently, it provides:
* `werkzeugkiste::container`: Sorting utilities and a custom (`stl`-like) circular buffer.
* `werkzeugkiste::files`: Basic file I/O and filesystem utilities.  
  _Caveat:_ These utilities are only tested on GNU/Linux and will be replaced by wrappers to C++17's `std::filesystem`.
* `werkzeugkiste::geometry`: Math utilities, focused on basic 2D & 3D geometry.
  * Type-safe number comparisons (`IsEpsEqual`, `IsEpsZero`) and basic math utils (such as `Sign`).
  * 2D geometry: Circles & lines.
  * 3D geometry: Planes & lines.
* `werkzeugkiste::strings`: Common string manipulation.
* `werkzeugkiste::timing`: Provides a stop watch & additional helpers on top of `std::chrono` (hiding some of its template boilerplate).


## Requirements
### For Library Users
* A C++ compiler supporting at least C++17
* [CMake][1] >= 3.14 and a [compatible build tool][2], like [Make][3], [Ninja][4], etc.
* The linear algebra library [Eigen3](https://eigen.tuxfamily.org/)

### For Developers
Developers of `werkzeugkiste` additionally need:
* A recent [clang-tidy][5] version >= 14.  

  CI will always run clang-tidy for you, so it is entirely optional to install
  and use it locally, but it is recommended.

  **For Windows users**, if you wish to use clang-tidy, then you must install
  [Ninja][4] and set the `generator` field in your `dev` preset to `Ninja`. The
  reason for this is that only [Makefiles and Ninja][6] are supported with CMake
  for use with clang-tidy. For other generators, this feature is a no-op.
* Additional static analysis is run by [cppcheck][7].  

  CI will always run cppcheck for you, so it is entirely optional to install and
  use it locally, but it is recommended.

  **For Windows users**, if you wish to use cppcheck, then you must install
  [Ninja][4] and set the `generator` field in your `dev` preset to `Ninja`. The
  reason for this is that only [Makefiles and Ninja][8] are supported with CMake
  for use with cppcheck.
* 


## Usage
The recommended way to include `werkzeugkiste` in your C++ project is via [CMake's FetchContent][9]:
```cmake
# Fetch the library:
include(FetchContent)
FetchContent_Declare(
    werkzeugkiste
    GIT_REPOSITORY https://github.com/snototter/werkzeugkiste.git
    GIT_TAG main)
FetchContent_MakeAvailable(werkzeugkiste)
message(STATUS "Using werkzeugkiste v${werkzeugkiste_VERSION}")
```


## Development Notes
* For each library, there should be a demo binary within `examples/`  
  Note, however, that demos are the lowest priority features on my list for this toolbox
* Ensure it is working with:
  * `cmake -Dwerkzeugkiste_WITH_EXAMPLES=ON`
  * `examples/cmake-fetch`
  * `examples/installed-locally`


## TODOs

* [ ] Change to newer gcc and add `-Wextra-semi` to dev presets
* [x] Check external inclusion via cmake FetchContent
* [ ] Utils:
  * [x] Enumeration utils (iterator + flags)
  * [x] strings
  * [x] circular buffer
  * [ ] file stuff (will be obsolete once C++17 support is more widespread)
  * [x] sort utils
  * [x] vec/basicmath
  * [x] geo2d
  * [ ] geo3d (WIP)
  * [ ] pinhole camera projection (WIP: basic transformations done; want to extend it s.t. we can project an arbitrary number of points - i.e. matrices on the heap vs stack)
  * [ ] pinhole camera class which takes care of storing intrinsics/extrinsics, projects points, etc.
  * [ ] Trajectory smoothing
    * [x] Moving average, similar to MATLAB's `smooth`
    * [ ] Sketch filtering (xkcd-ify), e.g. via [1D interpolation](https://github.com/slayton/matlab-xkcdify),
      or [as in matplotlib](https://github.com/JohannesBuchner/matplotlib-xkcdify), although the latter would be
      a major effort due to spline fitting (*e.g.* via [ALGLIB](http://www.alglib.net/interpolation/spline3.php#header7)
      or [NCAR/EOL bspline](https://github.com/NCAR/bspline)).
* [ ] Future: after upgrading to C++17, add support for `string_view` manipulation and change `::files` to use `std::filesystem` instead

# FIXME merge with autogenerated cmake-init README:

# werkzeugkiste

This is the werkzeugkiste project.

# Building and installing

See the [BUILDING](BUILDING.md) document.

# Contributing

See the [CONTRIBUTING](CONTRIBUTING.md) document.

[1]: https://cmake.org/
[2]: https://cmake.org/cmake/help/latest/manual/cmake-generators.7.html
[3]: https://www.gnu.org/software/make/
[4]: https://ninja-build.org/
[5]: https://clang.llvm.org/extra/clang-tidy/
[6]: https://cmake.org/cmake/help/latest/prop_tgt/LANG_CLANG_TIDY.html
[7]: https://cppcheck.sourceforge.io/
[8]: https://cmake.org/cmake/help/latest/prop_tgt/LANG_CPPCHECK.html
[9]: https://cmake.org/cmake/help/latest/module/FetchContent.html

